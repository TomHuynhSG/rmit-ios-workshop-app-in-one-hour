<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSET Contact List App Guide (Part 2) - COSC3062</title>
    <link rel="icon" href="../assets/images/rmit-logo.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="../css/base-theme.css">
    <link rel="stylesheet" href="../css/extended-header.css">
    <link rel="stylesheet" href="../css/collapsible.css">
    <link rel="stylesheet" href="../css/code-styles.css">
    <link rel="stylesheet" href="../css/shared-styles.css">
    <style>
        .logo { height: 60px; }
        .university-name { font-size: 1.75rem; }
        header .intro { max-width: 700px; }
        .cheatsheet-section > h2.collapsible-header {
            font-size: 2rem;
            color: var(--heading-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
        }
        .grid-container {
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
        }
        .card { padding: 20px; }
        pre { margin-bottom: 10px; }
        .instruction-step.card { padding: 20px; }
        .card ul {
            padding-left: 20px;
            list-style-type: disc;
        }
        .image-row {
            display: flex;
            align-items: stretch;
            gap: 20px;
        }
        .image-row img {
            flex: 1;
            max-width: 48%;
            width: 100%;
            object-fit: contain;
        }
        .padded-list {
            padding-left: 20px;
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <div class="back-to-home-container">
                <a href="../index.html" class="back-to-home-button">&larr; Back to Home</a>
            </div>
            <div class="university-branding">
                <img src="https://sites.rmit.edu.au/artschoolgraduates/files/2022/10/rmit-logo-red.png" alt="RMIT University Logo" class="logo">
                <span class="university-name">RMIT University</span>
            </div>
            <h1>SSET Contact List App (Part 2) <span>Data Persistence</span></h1>
            <p class="intro">This guide continues from Part 1. We will refactor the app to load contact data from a local JSON file, making our data model <code>Codable</code>. We'll also explore fetching data from a remote URL, building a dynamic welcome screen using <code>@State</code> and <code>@Binding</code>. The guide concludes with a bonus challenge to build a new app from scratch using a public API.</p>
        </div>
    </header>

    <main class="container">
        <section class="cheatsheet-section" id="objective">
            <h2 class="collapsible-header start-open">
                üéØ Lab Objective
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card">
                    <h3>üéØ Objective</h3>
                    <p>The goal of this part is to transition from hardcoded data to a more flexible data source: a JSON file. You will learn how to create a JSON file, make your data model <code>Codable</code>, and write a function to parse the JSON data into Swift objects that your views can use. This decouples your data from your application logic, making it easier to manage and update in the future.</p>
                    <h3>üîë Key Concepts</h3>
                    <ul>
                        <li><strong>JSON (JavaScript Object Notation):</strong> A lightweight, human-readable format for data interchange.</li>
                        <li><strong>Codable:</strong> A Swift protocol that allows objects to be converted to and from an external representation like JSON.</li>
                        <li><strong>Bundle:</strong> A representation of the code and resources stored in your app's directory. We'll use it to find our JSON file.</li>
                        <li><strong>JSONDecoder:</strong> A Swift object that decodes instances of a data type from JSON objects.</li>
                    </ul>
                     <img src="../assets/guide_imgs/contact_list_app/contact-list-app-screenshots.png" alt="Contact List App Screenshots" class="img-large">
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="json-file">
            <h2 class="collapsible-header">
                üìÑ 1. Creating the JSON Data File
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card instruction-step">
                    <h3>Step 1.1: Create contacts.json</h3>
                    <p><strong>Instruction:</strong> You have two options to add the <code>contacts.json</code> file to your project:</p>
                    <ul>
                        <li><strong>Option 1 (Create New File):</strong> In the "Model" folder, create a new file. Choose the "Empty" template under the "Other" section, name it <code>contacts.json</code>, and then copy and paste the provided JSON data into this new file.</li>
                        <li><strong>Option 2 (Drag and Drop):</strong> If you already have the <code>contacts.json</code> file on your computer (e.g., in Finder), you can directly drag and drop it into the "Model" folder in Xcode's Navigator. Make sure to check the "Copy items if needed" (for Xcode 15 and older) or "Copy files to destination" (for Xcode 16 and newer) checkbox when prompted.</li>
                    </ul>
                    <p><strong>Explanation:</strong> We are externalizing our data. Instead of being compiled into the app as Swift code, the data now lives in a separate resource file. This makes it easy to update the contact list without recompiling the app. Notice how the structure (keys like "name", "email") matches the properties in our <code>Contact</code> struct.</p>
                    <pre><code class="language-json"><span class="comment">// Model/contacts.json</span>
[
    {
      <span class="string">"email"</span>: <span class="string">"tom.huynh@rmit.edu.vn"</span>,
      <span class="string">"id"</span>: <span class="number">1</span>,
      <span class="string">"phone"</span>: <span class="string">"091232522"</span>,
      <span class="string">"imageName"</span>: <span class="string">"tom-huynh"</span>,
      <span class="string">"name"</span>: <span class="string">"Tom Huynh"</span>,
      <span class="string">"coordinates"</span>: {
          <span class="string">"latitude"</span>: <span class="number">10.729410965174186</span>,
          <span class="string">"longitude"</span>: <span class="number">106.69522548892152</span>
      }
    },
    {
      <span class="string">"email"</span>: <span class="string">"brett.kirk@rmit.edu.vn"</span>,
      <span class="string">"id"</span>: <span class="number">2</span>,
      <span class="string">"phone"</span>: <span class="string">"094355634"</span>,
      <span class="string">"imageName"</span>: <span class="string">"brett-kirk"</span>,
      <span class="string">"name"</span>: <span class="string">"Brett Kirk"</span>,
      <span class="string">"coordinates"</span>: {
          <span class="string">"latitude"</span>: <span class="number">10.758256325746386</span>,
          <span class="string">"longitude"</span>: <span class="number">106.67228491141948</span> 
      }
    },
    <span class="comment">// ... and so on for all other contacts</span>
]</code></pre>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="data-model-update">
            <h2 class="collapsible-header">
                üîÑ 2. Updating the Data Model
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card instruction-step">
                    <h3>Step 2.1: Make the Contact Struct Codable</h3>
                    <p><strong>Instruction:</strong> Modify your <code>Contact.swift</code> file. The <code>Contact</code> struct must conform to the <code>Codable</code> protocol. You'll also need a nested <code>Coordinates</code> struct to match the JSON structure.</p>
                    <p><strong>Explanation:</strong> <code>Codable</code> is a powerful Swift protocol that enables a struct or class to be encoded into and decoded from formats like JSON automatically. For this to work, the property names in your struct must match the keys in the JSON file. We also change <code>id</code> to <code>Int</code> to match the JSON. Because the JSON has a nested "coordinates" object, we create a corresponding <code>Coordinates</code> struct, which also must be <code>Codable</code>.</p>
                    <p><strong>Pro Tip:</strong> For complex JSON, writing <code>Codable</code> structs by hand can be tedious. Tools like <a href="https://app.quicktype.io/" target="_blank">QuickType</a> can instantly generate the necessary Swift structs from a sample JSON, saving you time and preventing typos.</p>
                    <img src="../assets/guide_imgs/contact_list_app/quicktype-demo.png" alt="QuickType Demo" class="img-large">
                    <pre><code><span class="comment">// Model/Contact.swift</span>
<span class="keyword">import</span> <span class="type">Foundation</span>
<span class="keyword">import</span> <span class="type">SwiftUI</span>
<span class="keyword">import</span> <span class="type">CoreLocation</span>

<span class="keyword">struct</span> <span class="type">Contact</span> : <span class="type">Identifiable</span>, <span class="type">Codable</span> {
    <span class="keyword">var</span> id: <span class="type">Int</span>
    <span class="keyword">var</span> name: <span class="type">String</span>
    <span class="keyword">var</span> email: <span class="type">String</span>
    <span class="keyword">var</span> phone: <span class="type">String</span>
    <span class="keyword">var</span> imageName: <span class="type">String</span>
    
    <span class="keyword">var</span> image: <span class="type">Image</span> {
        <span class="function">Image</span>(imageName)
    }
    
    <span class="keyword">var</span> coordinates: <span class="type">Coordinates</span>
    
    <span class="comment">// Computed property to expose the CLLocationCoordinate2D, keeping your view code unchanged</span>
    <span class="keyword">var</span> locationCoordinate: <span class="type">CLLocationCoordinate2D</span> {
        <span class="function">CLLocationCoordinate2D</span>(
            latitude: coordinates.latitude,
            longitude: coordinates.longitude
        )
    }
}

<span class="comment">// Nested struct to match the structure of the "coordinates" object in the JSON</span>
<span class="keyword">struct</span> <span class="type">Coordinates</span>: <span class="type">Codable</span> {
    <span class="keyword">var</span> latitude: <span class="type">Double</span>
    <span class="keyword">var</span> longitude: <span class="type">Double</span>
}</code></pre>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="loading-data">
            <h2 class="collapsible-header">
                üì• 3. Loading the Data from JSON
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card instruction-step">
                    <h3>Step 3.1: Update ModelData.swift</h3>
                    <p><strong>Instruction:</strong> Replace the hardcoded <code>contacts</code> array in <code>ModelData.swift</code> with a function that loads and decodes the <code>contacts.json</code> file.</p>
                    <p><strong>Explanation:</strong> This is the core of our data loading logic. The <code>decodeJsonFromJsonFile</code> function performs three key steps:</p>
                        <ol class="padded-list">
                            <li>It gets the URL path to <code>contacts.json</code> within the app's bundle.</li>
                            <li>It tries to load the file's contents into a <code>Data</code> object.</li>
                            <li>It uses a <code>JSONDecoder</code> to attempt to convert the <code>Data</code> object into an array of <code>Contact</code> objects (<code>[Contact].self</code>).</li>
                        </ol>
                    <p>If any step fails, a <code>fatalError</code> is triggered, which is useful during development to catch issues immediately. The <code>contacts</code> variable is now initialized with the result of this function call.</p>
                    <pre><code><span class="comment">// Model/ModelData.swift</span>
<span class="keyword">import</span> <span class="type">Foundation</span>
<span class="keyword">import</span> <span class="type">MapKit</span>

<span class="keyword">var</span> contacts = <span class="function">decodeJsonFromJsonFile</span>(jsonFileName: <span class="string">"contacts.json"</span>)

<span class="comment">// How to decode a json file into a struct</span>
<span class="keyword">func</span> <span class="function">decodeJsonFromJsonFile</span>(jsonFileName: <span class="type">String</span>) -> [<span class="type">Contact</span>] {
    <span class="keyword">if let</span> file = <span class="type">Bundle</span>.main.<span class="function">url</span>(forResource: jsonFileName, withExtension: <span class="keyword">nil</span>){
        <span class="keyword">if let</span> data = <span class="keyword">try?</span> <span class="type">Data</span>(contentsOf: file) {
            <span class="keyword">do</span> {
                <span class="keyword">let</span> decoder = <span class="function">JSONDecoder</span>()
                <span class="keyword">let</span> decoded = <span class="keyword">try</span> decoder.<span class="function">decode</span>([<span class="type">Contact</span>].<span class="keyword">self</span>, from: data)
                <span class="keyword">return</span> decoded
            } <span class="keyword">catch let</span> error {
                <span class="function">fatalError</span>(<span class="string">"Failed to decode JSON: \(error)"</span>)
            }
        }
    } <span class="keyword">else</span> {
        <span class="function">fatalError</span>(<span class="string">"Couldn't load \(jsonFileName) file"</span>)
    }
    <span class="keyword">return</span> [ ] <span class="keyword">as</span> [<span class="type">Contact</span>]
}</code></pre>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="optional-remote-data">
            <h2 class="collapsible-header">
                üåê 4. Optional: Loading Data from a URL
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card instruction-step">
                    <h3>Step 4.1: Host Your JSON with JSON Keeper</h3>
                    <p><strong>Instruction:</strong> To fetch data from a URL, you first need to host your JSON file online. A simple service for this is <a href="https://www.jsonkeeper.com/" target="_blank">JSON Keeper</a>. Copy the entire content of your <code>contacts.json</code> file, paste it into the text area on the JSON Keeper website, and click "Save". It will provide you with a public URL that you can use to access your data.</p>
                    <p><strong>Explanation:</strong> JSON Keeper is a free tool that gives you a permanent URL for your JSON data. This is perfect for prototyping and testing network requests without setting up your own server. The URL it generates will serve your JSON content, which your app can then fetch.</p>
                    <img src="../assets/guide_imgs/contact_list_app/jsonkeeper-demo.png" alt="JSON Keeper Demo" class="img-large">
                    
                    <h3>Step 4.2: Modify ModelData.swift to Fetch from a URL</h3>
                    <p><strong>Instruction:</strong> As an alternative to a local file, you can fetch the JSON data directly from a web server. Update <code>ModelData.swift</code> to use a URL string and fetch the data from the network.</p>
                    <p><strong>Explanation:</strong> This modification changes the data source from a local file to a remote URL. The function now takes a URL string, creates a <code>URL</code> object, and then uses <code>Data(contentsOf:)</code> to download the data from that URL. The rest of the decoding process remains the same. This demonstrates the power of abstracting your data source; the <code>Views</code> don't need to change at all.</p>
                    <p><strong>Note:</strong> The method <code>Data(contentsOf:)</code> performs a <strong>synchronous</strong> network request, which means it blocks the app's main thread until the download is complete. This is simple and acceptable for learning purposes, but in a real-world application, you should use asynchronous methods (like <code>URLSession.dataTask</code> with async/await) to prevent freezing the user interface while data is being fetched.</p>
                    <pre><code><span class="comment">// Model/ModelData.swift</span>
<span class="keyword">import</span> <span class="type">Foundation</span>

<span class="keyword">var</span> jsonURL = <span class="string">"https://www.jsonkeeper.com/b/EBBME"</span>

<span class="keyword">var</span> contacts = <span class="function">decodeJsonFromJsonFile</span>(inputJsonURL: jsonURL)

<span class="keyword">func</span> <span class="function">decodeJsonFromJsonFile</span>(inputJsonURL: <span class="type">String</span>) -> [<span class="type">Contact</span>] {
    <span class="keyword">if let</span> url = <span class="function">URL</span>(string: inputJsonURL) {
        <span class="keyword">if let</span> data = <span class="keyword">try?</span> <span class="type">Data</span>(contentsOf: url) {
            <span class="keyword">do</span> {
                <span class="keyword">let</span> decoder = <span class="function">JSONDecoder</span>()
                <span class="keyword">let</span> decoded = <span class="keyword">try</span> decoder.<span class="function">decode</span>([<span class="type">Contact</span>].<span class="keyword">self</span>, from: data)
                <span class="keyword">return</span> decoded
            } <span class="keyword">catch let</span> error {
                <span class="function">fatalError</span>(<span class="string">"Failed to decode JSON: \(error)"</span>)
            }
        }
    }
    <span class="keyword">return</span> [ ] <span class="keyword">as</span> [<span class="type">Contact</span>]
}</code></pre>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="welcome-screen">
            <h2 class="collapsible-header">
                üëã 5. Building a Welcome Screen
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card instruction-step">
                    <h3>Step 5.1: Organize Your Welcome Views</h3>
                    <p><strong>Instruction:</strong> To keep our project tidy, create a new folder inside the <code>Views</code> folder and name it "WelcomeViews". This is where we'll put all the components for our new welcome screen.</p>
                    <p><strong>Explanation:</strong> As features become more complex, it's good practice to organize related views into their own folders. This makes the project easier to navigate.</p>
                    <img src="../assets/guide_imgs/contact_list_app/welcome-views-folder.png" alt="Welcome Views Folder" class="img-large">
                </div>
                <div class="card instruction-step">
                    <h3>Step 5.2: Create the Decorative Circle View</h3>
                    <p><strong>Instruction:</strong> Inside the "WelcomeViews" folder, create a new SwiftUI View file named <code>CircleRMITView.swift</code>.</p>
                    <p><strong>Explanation:</strong> This is a purely decorative view that creates a visually appealing element for our welcome screen. It uses a <code>ZStack</code> to layer two stroked circles with different line widths and opacities, with the RMIT logo placed on top. Breaking down complex visual elements into smaller views like this is a key SwiftUI pattern.</p>
                    <pre><code><span class="comment">// Views/WelcomeViews/CircleRMITView.swift</span>
<span class="keyword">import</span> <span class="type">SwiftUI</span>

<span class="keyword">struct</span> <span class="type">CircleRMITView</span>: <span class="type">View</span> {
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="function">ZStack</span> {
            <span class="function">Circle</span>()
                .<span class="function">stroke</span>(.<span class="variable">white</span>.<span class="function">opacity</span>(<span class="number">0.4</span>), lineWidth: <span class="number">40</span>)
                .<span class="function">frame</span>(width: <span class="number">260</span>, height: <span class="number">260</span>, alignment: .center)
            <span class="function">Circle</span>()
                .<span class="function">stroke</span>(.<span class="variable">white</span>.<span class="function">opacity</span>(<span class="number">0.4</span>), lineWidth: <span class="number">90</span>)
                .<span class="function">frame</span>(width: <span class="number">260</span>, height: <span class="number">260</span>, alignment: .center)
            <span class="function">Image</span>(<span class="string">"rmit-logo-white"</span>)
                .<span class="function">resizable</span>()
                .<span class="function">scaledToFit</span>()
                .<span class="function">frame</span>(width: <span class="number">300</span>)
        }
    }
}

<span class="property-wrapper">#Preview</span> {
    <span class="function">CircleRMITView</span>()
}
</code></pre>
                    <img src="../assets/guide_imgs/contact_list_app/circle-rmit-view-preview.png" alt="Circle RMIT View Preview" class="img-large">
                </div>
                <div class="card instruction-step">
                    <h3>Step 5.3: Create the Greeting View</h3>
                    <p><strong>Instruction:</strong> Create another file in "WelcomeViews" folder named <code>GreetingView.swift</code>. This view will contain the main content of the welcome screen.</p>
                    <p><strong>Explanation:</strong> The <code>GreetingView</code> assembles the text, the <code>CircleRMITView</code>, and the "Get Started" button. It uses a <code>@Binding var active: Bool</code>. A binding creates a two-way connection to a state variable owned by a parent view. When the button in this view is tapped, it changes the value of <code>active</code>, and this change is communicated back up to the parent view.</p>
                    <pre><code><span class="comment">// Views/WelcomeViews/GreetingView.swift</span>
<span class="keyword">import</span> <span class="type">SwiftUI</span>

<span class="keyword">struct</span> <span class="type">GreetingView</span>: <span class="type">View</span> {
    <span class="property-wrapper">@Binding</span> <span class="keyword">var</span> active: <span class="type">Bool</span>
    
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="function">ZStack</span> {
            <span class="function">Color</span>(<span class="string">"rmit-blue"</span>)
                .<span class="function">edgesIgnoringSafeArea</span>(.all)
            
            <span class="function">VStack</span> {
                <span class="function">Spacer</span>()
                <span class="function">Text</span>(<span class="string">"Welcome"</span>)
                    .<span class="function">font</span>(.<span class="function">system</span>(size: <span class="number">60</span>, weight: .heavy, design: .rounded))
                    .<span class="function">foregroundColor</span>(.<span class="variable">white</span>)
                <span class="function">Text</span>(<span class="string">"""
                    The Contact List is long
                    The Circle is small!
                    """</span>)
                .<span class="function">font</span>(.title3)
                .<span class="function">foregroundColor</span>(.<span class="variable">white</span>)
                .<span class="function">multilineTextAlignment</span>(.center)
                
                <span class="function">Spacer</span>()
                
                <span class="function">CircleRMITView</span>()
                
                <span class="function">Spacer</span>()
                
                <span class="function">Button</span>(action: {
                    active = <span class="keyword">false</span>
                }, label: {
                    <span class="function">Capsule</span>()
                        .<span class="function">fill</span>(.<span class="variable">white</span>.<span class="function">opacity</span>(<span class="number">0.4</span>))
                        .<span class="function">padding</span>(<span class="number">8</span>)
                        .<span class="function">frame</span>(height: <span class="number">80</span>)
                        .<span class="function">overlay</span>(
                            <span class="function">Text</span>(<span class="string">"Get Started"</span>)
                                .<span class="function">font</span>(.title2)
                                .<span class="function">foregroundColor</span>(.<span class="variable">white</span>)
                        )
                })
            }
        }
    }
}

<span class="property-wrapper">#Preview</span> {
    <span class="function">GreetingView</span>(active: .constant(<span class="keyword">true</span>))
}
</code></pre>
                    <img src="../assets/guide_imgs/contact_list_app/greeting-view-preview.png" alt="Greeting View Preview" class="img-large">
                </div>
                <div class="card instruction-step">
                    <h3>Step 5.4: Create the Main Welcome View (State Holder)</h3>
                    <p><strong>Instruction:</strong> Create the final view for this feature, <code>WelcomeView.swift</code>, also in the "WelcomeViews" folder.</p>
                    <p><strong>Explanation:</strong> This view acts as the container and state manager. It holds the "source of truth" for whether the welcome screen is active using <code>@State var isWelcomeActive: Bool = true</code>. It then uses an <code>if</code> statement to show either the <code>GreetingView</code> or the <code>ContactList</code>. It passes the <code>isWelcomeActive</code> state down to the <code>GreetingView</code> as a binding (<code>$isWelcomeActive</code>), allowing the child view to modify the parent's state.</p>
                    <pre><code><span class="comment">// Views/WelcomeViews/WelcomeView.swift</span>
<span class="keyword">import</span> <span class="type">SwiftUI</span>

<span class="keyword">struct</span> <span class="type">WelcomeView</span>: <span class="type">View</span> {
    <span class="property-wrapper">@State</span> <span class="keyword">var</span> isWelcomeActive: <span class="type">Bool</span> = <span class="keyword">true</span>
    
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="function">ZStack</span> {
            <span class="keyword">if</span> isWelcomeActive {
                <span class="comment">// Display welcome screen</span>
                <span class="function">GreetingView</span>(active: $isWelcomeActive)
                
            } <span class="keyword">else</span> {
                <span class="comment">// Display Contact list screen</span>
                <span class="function">ContactList</span>()
            }
        }
    }
}

<span class="property-wrapper">#Preview</span> {
    <span class="function">WelcomeView</span>()
}
</code></pre>
                </div>
                <div class="card instruction-step">
                    <h3>Step 5.5: Update the App Entry Point</h3>
                    <p><strong>Instruction:</strong> Finally, update <code>SSETContactListApp.swift</code> to make <code>WelcomeView</code> the root view of the app.</p>
                    <p><strong>Explanation:</strong> With our state management now neatly encapsulated inside <code>WelcomeView</code>, the app's entry point becomes very simple. We just need to create an instance of <code>WelcomeView</code>, and it will handle its own logic for displaying the greeting or the contact list.</p>
                    <pre><code><span class="comment">// SSETContactListApp.swift</span>
<span class="keyword">import</span> <span class="type">SwiftUI</span>

<span class="property-wrapper">@main</span>
<span class="keyword">struct</span> <span class="type">SSETContactListApp</span>: <span class="type">App</span> {
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> {
        <span class="function">WindowGroup</span> {
            <span class="function">WelcomeView</span>()
        }
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="polishing">
            <h2 class="collapsible-header">
                ‚ú® 6. Final Polish & Deployment
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card">
                    <h3>‚úÖ Finishing Checklist</h3>
                    <p>Before considering the project complete, run through this checklist:</p>
                    <ul>
                        <li><strong>Polished Views:</strong> Ensure all your views have consistent padding, fonts, and colors. The UI should look clean and intentional.</li>
                        <li><strong>App Icon:</strong> Verify that your custom app icon is correctly configured in <code>Assets.xcassets</code> and appears on the device or simulator.</li>
                        <li><strong>Image Assets:</strong> Check that all images in your asset catalog have their 1x, 2x, and 3x variants to look sharp on all devices.</li>
                        <li><strong>Physical Device Deployment:</strong> Deploy and test the app on an actual iPhone. This is the best way to check for performance issues and see how the app truly feels.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="bonus-challenge">
            <h2 class="collapsible-header">
                üèÜ 7. Bonus Challenge: Build an App with a Public API
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card">
                    <h3>‚öîÔ∏è A Wild Challenge Has Appeared!</h3>
                    <p>Ready to apply your skills to a new project? The goal of this challenge is to build a simple but polished app from scratch that fetches and displays data from a free, public API.</p>
                    <ol>
                        <li><strong>Find an API:</strong> Choose an interesting API from a curated list like this one: <a href="https://mixedanalytics.com/blog/list-actually-free-open-no-auth-needed-apis/" target="_blank">List of Free Public APIs</a>. Topics range from crypto and food to movies and anime.</li>
                        <li><strong>Analyze the JSON:</strong> Once you have an API endpoint, look at the JSON it returns. If it's complex, use a tool like <a href="https://codebeautify.org/jsonviewer" target="_blank">JSON Beautifier</a> to make it more readable.</li>
                        <li><strong>Build the App:</strong>
                            <ul>
                                <li>Create the <code>Codable</code> structs for the JSON data (use QuickType!).</li>
                                <li>Design a list view to show the items and a detail view for more information.</li>
                                <li>Polish the UI and deploy it to your phone!</li>
                            </ul>
                        </li>
                    </ol>
                    <p>Some APIs can have complex JSON structures that are challenging to parse. Before tackling a big one, it's a great idea to start with something simpler. Here are a few fun, easy-to-use APIs with very simple JSON responses:</p>
                    <ul>
                        <li><strong>The Cat Fact API:</strong> Get random cat facts. URL: <a href="https://catfact.ninja/fact" target="_blank">https://catfact.ninja/fact</a></li>
                        <li><strong>The Dog API:</strong> Get a random dog image. URL: <a href="https://dog.ceo/api/breeds/image/random" target="_blank">https://dog.ceo/api/breeds/image/random</a></li>
                        <li><strong>Pok√©API:</strong> Get data about Pok√©mon. Let's start with Ditto! URL: <a href="https://pokeapi.co/api/v2/pokemon/ditto" target="_blank">https://pokeapi.co/api/v2/pokemon/ditto</a></li>
                        <li><strong>Chuck Norris Jokes API:</strong> Get a random Chuck Norris joke. URL: <a href="https://api.chucknorris.io/jokes/random" target="_blank">https://api.chucknorris.io/jokes/random</a></li>
                        <li><strong>Genderize.io API:</strong> Predict the gender of a name. URL: <a href="https://api.genderize.io?name=peter" target="_blank">https://api.genderize.io?name=peter</a></li>
                        <li><strong>The Yes/No API:</strong> Get a "yes" or "no" with a GIF. URL: <a href="https://yesno.wtf/api" target="_blank">https://yesno.wtf/api</a></li>
                    </ul>
                    <p><strong>Example Idea:</strong> Once you're comfortable, a great but more challenging place to start is the <a href="https://jikan.moe/" target="_blank">Jikan API</a>, a free and well-documented REST API for anime information. Be aware that its JSON structure is more complex, which makes it a good exercise in parsing nested data. For the example app shown, it uses the endpoint <a href="https://api.jikan.moe/v4/top/anime" target="_blank">https://api.jikan.moe/v4/top/anime</a> to fetch the top anime. You can read the documentation for this specific endpoint <a href="https://docs.api.jikan.moe/#tag/top/operation/getTopAnime" target="_blank">here</a> to understand the structure of the JSON response. You could build an app that shows a categorized list of top anime, similar to the demo shown in the lecture.</p>
                    <div class="image-row" style="justify-content: center;">
                        <img src="../assets/guide_imgs/contact_list_app/bonus-challenge-app-demo.gif" alt="Bonus Challenge App Demo" class="img-large" style="max-width: 48%;">
                    </div>
                </div>
                <div class="card">
                    <h3 class="collapsible-header">
                        üí° Hint: Getting Started with the RMIT Anime App
                        <span class="collapse-icon"></span>
                    </h3>
                    <div class="collapsible-content">
                        <p>Here is some starter code to begin your RMIT Anime app. This code will help you decode the <code>Anime</code> struct from the Jikan API endpoint, focusing on retrieving the anime title and its synopsis.</p>
                
                        <h4>Project Folder Structure</h4>
                        <pre><code>CodableTesting
‚îú‚îÄ‚îÄ Model
‚îÇ   ‚îú‚îÄ‚îÄ Anime.swift
‚îÇ   ‚îî‚îÄ‚îÄ ModelData.swift
‚îú‚îÄ‚îÄ RMITAnime.swift
‚îî‚îÄ‚îÄ Views
    ‚îî‚îÄ‚îÄ AnimeList.swift</code></pre>
                
                        <div class="card instruction-step">
                            <h4>File: Model/Anime.swift</h4>
                            <pre><code><span class="keyword">import</span> <span class="type">Foundation</span>

<span class="comment">// This struct corresponds to the top-level JSON object from the API.</span>
<span class="keyword">struct</span> <span class="type">AnimeResponse</span>: <span class="type">Codable</span> {
    <span class="keyword">let</span> data: [<span class="type">Anime</span>]
}

<span class="comment">// This struct represents a single anime object from the "data" array.
// It conforms to Codable to be decodable from JSON.
// It conforms to Identifiable so SwiftUI's List can uniquely identify each row.</span>
<span class="keyword">struct</span> <span class="type">Anime</span>: <span class="type">Codable</span>, <span class="type">Identifiable</span> {
    <span class="keyword">let</span> mal_id: <span class="type">Int</span>
    <span class="keyword">let</span> title: <span class="type">String</span>
    
    <span class="comment">// The description of the anime</span>
    <span class="keyword">let</span> synopsis: <span class="type">String</span>
    
    <span class="comment">// We use mal_id as the unique ID required by the Identifiable protocol.</span>
    <span class="keyword">var</span> id: <span class="type">Int</span> {
        <span class="keyword">return</span> mal_id
    }
}</code></pre>
                        </div>
                
                        <div class="card instruction-step">
                            <h4>File: Model/ModelData.swift</h4>
                            <pre><code><span class="keyword">import</span> <span class="type">Foundation</span>

<span class="keyword">var</span> jsonURL = <span class="string">"https://api.jikan.moe/v4/top/anime"</span>

<span class="keyword">func</span> <span class="function">decodeJsonFromURL</span>(inputJsonURL: <span class="type">String</span>) -> <span class="type">AnimeResponse</span> {
    <span class="keyword">if let</span> url = <span class="function">URL</span>(string: inputJsonURL) {
        <span class="keyword">if let</span> data = <span class="keyword">try?</span> <span class="type">Data</span>(contentsOf: url) {
            <span class="keyword">do</span> {
                <span class="keyword">let</span> decoder = <span class="function">JSONDecoder</span>()
                <span class="keyword">let</span> decoded = <span class="keyword">try</span> decoder.<span class="function">decode</span>(<span class="type">AnimeResponse</span>.<span class="keyword">self</span>, from: data)
                <span class="keyword">return</span> decoded
            } <span class="keyword">catch let</span> error {
                <span class="function">fatalError</span>(<span class="string">"Failed to decode JSON: \(error)"</span>)
            }
        }
    }
    <span class="keyword">return</span> <span class="function">AnimeResponse</span>(data: [])
}

<span class="keyword">var</span> myAnime = <span class="function">decodeJsonFromURL</span>(inputJsonURL: jsonURL)</code></pre>
                        </div>
                
                        <div class="card instruction-step">
                            <h4>File: RMITAnime.swift</h4>
                            <pre><code><span class="keyword">import</span> <span class="type">SwiftUI</span>

<span class="property-wrapper">@main</span>
<span class="keyword">struct</span> <span class="type">RMITAnime</span>: <span class="type">App</span> {
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> {
        <span class="function">WindowGroup</span> {
            <span class="function">AnimeList</span>()
        }
    }
}</code></pre>
                        </div>
                
                        <div class="card instruction-step">
                            <h4>File: Views/AnimeList.swift</h4>
                            <pre><code><span class="keyword">import</span> <span class="type">SwiftUI</span>

<span class="keyword">struct</span> <span class="type">AnimeList</span>: <span class="type">View</span> {
    
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="function">NavigationView</span> {
            <span class="function">List</span>(myAnime.data) { anime <span class="keyword">in</span>
                <span class="function">NavigationLink</span> {
                    <span class="function">VStack</span>(alignment: .leading, spacing: <span class="number">10</span>) {
                        <span class="function">Text</span>(anime.title)
                            .<span class="function">font</span>(.<span class="variable">title</span>)
                            .<span class="function">bold</span>()
                        
                        <span class="function">Text</span>(anime.synopsis)
                            .<span class="function">font</span>(.<span class="variable">body</span>)
                            .<span class="function">foregroundColor</span>(.<span class="variable">secondary</span>)
                    }
                    .<span class="function">padding</span>()
                    .<span class="function">navigationTitle</span>(<span class="string">"Details"</span>)
                } label: {
                    <span class="function">Text</span>(anime.title)
                }
            }
            .<span class="function">navigationTitle</span>(<span class="string">"Top Anime"</span>)
        }
        .<span class="function">onAppear</span> {
            <span class="comment">// A tip to debugging using print statements right inside the view</span>
            <span class="function">print</span>(<span class="string">"All Anime:"</span>)
            <span class="function">print</span>(myAnime)
        }
    }
}

<span class="property-wrapper">#Preview</span> {
    <span class="function">AnimeList</span>()
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="cheatsheet-section" id="conclusion">
            <h2 class="collapsible-header">
                üéâ Conclusion & Next Steps
                <span class="collapse-icon"></span>
            </h2>
            <div class="collapsible-content">
                <div class="card">
                    <h3>ü•≥ Congratulations!</h3>
                    <p>You have successfully refactored your app to load data from a JSON file. This is a significant improvement that makes your project more scalable and maintainable. The best part is that you didn't have to change a single line of code in your <code>Views</code>! Because the data model (<code>contacts</code> array) is still available and its properties are the same, the UI works exactly as it did before.</p>
                    <h3>üöÄ What's Next?</h3>
                    <p>From here, you can explore more advanced topics:</p>
                    <ul>
                        <li><strong>Fetching data from a remote API:</strong> Instead of a local JSON file, load data from a web server.</li>
                        <li><strong>State Management:</strong> Use <code>@StateObject</code> and <code>@ObservedObject</code> to create a more robust data flow.</li>
                        <li><strong>User Input:</strong> Add forms to allow users to add or edit contacts.</li>
                    </ul>
                </div>
            </div>
        </section>
        
    </main>

    <footer>
        <p>¬© 2025 Created by Tom Huynh with love ‚ù§Ô∏è</p>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>
